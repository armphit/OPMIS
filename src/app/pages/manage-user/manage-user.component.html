<div class="container-fluid pt-2" style="overflow: auto" [hidden]="!dataUser">
  <div class="row">
    <div class="col-lg-9"></div>
    <div class="col-lg-3">
      <mat-form-field class="example-full-width" style="float: right">
        <input matInput (keyup)="applyFilter($event)" #inputT />
        <mat-placeholder>ค้นหา</mat-placeholder>
        <mat-icon matSuffix style="font-size: 1.2em">search</mat-icon>
      </mat-form-field>
    </div>
  </div>

  <div class="responsive-table">
    <section class="example-container mat-elevation-z8" tabindex="0">
      <table
        mat-table
        matTableExporter
        [dataSource]="dataSource"
        matSort
        #MatSort="matSort"
        #exporter="matTableExporter"
        class="mat-elevation-z8"
        matSortActive="user"
        matSortDirection="asc"
      >
        <ng-container matColumnDef="user">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
          <td
            mat-cell
            *matCellDef="let element"
            style="padding-left: 20px; padding-right: 20px"
          >
            {{ element.user }}
          </td>
        </ng-container>
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>name</th>
          <td
            mat-cell
            *matCellDef="let element"
            style="padding-left: 20px; padding-right: 20px"
          >
            {{ element.name }}
          </td>
        </ng-container>
        <ng-container matColumnDef="role">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Role</th>
          <td
            mat-cell
            *matCellDef="let element"
            style="padding-left: 20px; padding-right: 20px"
          >
            {{ element.role }}
          </td>
        </ng-container>
        <ng-container matColumnDef="createAt">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>createAt</th>
          <td
            mat-cell
            *matCellDef="let element"
            style="padding-left: 20px; padding-right: 20px"
          >
            {{ element.createAt }}
          </td>
        </ng-container>
        <ng-container matColumnDef="updateAt">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>updateAt</th>
          <td
            mat-cell
            *matCellDef="let element"
            style="padding-left: 20px; padding-right: 20px"
          >
            {{ element.updateAt }}
          </td>
        </ng-container>
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Action</th>
          <td
            mat-cell
            *matCellDef="let element"
            style="padding-left: 20px; padding-right: 20px"
          >
            <button
              *ngIf="user.role == 'admin'"
              type="button"
              class="{{
                element.status == 'Y' ? 'btn btn-success' : 'btn btn-danger'
              }}"
              style="margin: 0 10px 0 0"
              (click)="changeActive(element)"
            >
              <i *ngIf="element.status == 'Y'" class="fas fa-check-square"></i>
              <i *ngIf="element.status == 'N'" class="fas fa-window-close"></i>
            </button>
            <button
              class="btn btn-danger"
              type="button"
              (click)="deleteUser(element)"
            >
              ลบ
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </section>
    <mat-paginator
      #MatPaginator="matPaginator"
      [length]="10"
      [pageSize]="10"
      [pageSizeOptions]="[10, 50, 100]"
      showFirstLastButtons
    >
    </mat-paginator>
  </div>
</div>
