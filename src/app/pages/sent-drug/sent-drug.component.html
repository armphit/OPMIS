<div style="margin: 10px;">
  <!-- <div>
    <form [formGroup]="inputGroup">
      <label style="margin: 10px;">HN:</label>
      <div style="margin: 10px;" class="form-group">

        <input name="somename" class="form-control" #swiper
          oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
          type="text" maxlength="7" formControlName="id" />
      </div>

      <label style="margin: 10px;">ชื่อ:</label>
      <div style="margin: 10px;" class="form-group">

        <input type="text" class="form-control" formControlName="name">
      </div>
      <label style="margin: 20px;" for="usr">เพศ:</label>
      <div class="form-group">
        <select style="padding-right: 10px;" class="form-control" formControlName="sex">
          <option value="" selected>โปรดเลือกเพศ</option>
          <option value="M">ชาย</option>
          <option value="F">หญิง</option>
        </select>

      </div>

      <label style="margin: 10px;" for="usr">วันเกิด:</label>
      <div class="form-group">
        <mat-form-field>
          <mat-label>Choose a date</mat-label>
          <input matInput [matDatepicker]="picker" (dateChange)="date_Birth($event)" formControlName="dateB">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>

      </div>
      <label style="margin: 10px;">อายุ:</label>
      <div style="margin: 10px;" class="form-group">

        <input type="text" class="form-control" min="0" style="width: 40%;" formControlName="age">
      </div>





      <button style="margin: 10px;" class="btn btn-primary" type="submit" data-toggle="collapse"
        data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample" (click)='toggleDisable()'>
        เลือกยา
      </button>




    </form>
  </div> -->
  <div>
    <div class="card card-body">
      <div class="row">
        <div class="col-lg-9">
          <!-- <mat-form-field class="example-form-field" style="float:left">
            <mat-label>เลือกวันที่</mat-label>
            <mat-date-range-input [formGroup]="campaignOne" [rangePicker]="campaignOnePicker"
              [comparisonStart]="campaignOne.value.start" [comparisonEnd]="campaignOne.value.end">
              <input matStartDate placeholder="วันที่เริ่มต้น" formControlName="start" (dateChange)="startChange($event)">
              <input matEndDate placeholder="วันที่สิ้นสุด" formControlName="end" (dateChange)="endChange($event)">
            </mat-date-range-input>
            <mat-datepicker-toggle matSuffix [for]="campaignOnePicker"></mat-datepicker-toggle>
            <mat-date-range-picker #campaignOnePicker></mat-date-range-picker>
          </mat-form-field> -->
        </div>
        <div class="col-lg-3" *ngIf="dataDrug">
          <mat-form-field class="example-full-width" style="float: right;">
            <input matInput (keyup)="applyFilter($event)" #input [(ngModel)]="selected">
            <mat-placeholder>ค้นหา</mat-placeholder>
            <mat-icon matSuffix style="font-size: 1.2em">search</mat-icon>
          </mat-form-field>
        </div>
      </div>
      <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">

        <!-- Position Column -->
        <ng-container matColumnDef="select">
          <th mat-header-cell *matHeaderCellDef>
            <!-- <mat-checkbox (change)="$event ? masterToggle() : null" [checked]="selection.hasValue() && isAllSelected()"
              [indeterminate]="selection.hasValue() && !isAllSelected()">
            </mat-checkbox> -->
          </th>
          <td mat-cell *matCellDef="let row">
            <mat-checkbox (click)="$event.stopPropagation();" [checked]="row.isChecked"
              (change)="showOptions($event,row) ? selection.toggle(row) : null" #globalcheckbox>
            </mat-checkbox>

          </td>
        </ng-container>
        <ng-container matColumnDef="Code">
          <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px;"> Drug Code </th>
          <td mat-cell *matCellDef="let element" style="padding-left: 20px;padding-right: 20px;">
            {{element.code}}
          </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="Name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px;">Device Name </th>
          <td mat-cell *matCellDef="let element" style="padding-left: 20px;padding-right: 20px;">
            {{element.Name}}
          </td>
        </ng-container>

        <!-- Weight Column -->
        <ng-container matColumnDef="Unit">
          <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px;"> Unit </th>
          <td mat-cell *matCellDef="let element" style="padding-left: 20px;padding-right: 20px;">
            {{element.unit}}
          </td>
        </ng-container>
        <ng-container matColumnDef="Spec">
          <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px;"> Spec </th>
          <td mat-cell *matCellDef="let element" style="padding-left: 20px;padding-right: 20px;">
            {{element.spec}}
          </td>
        </ng-container>

        <ng-container matColumnDef="firmName">
          <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px;"> Firm Name </th>
          <td mat-cell *matCellDef="let element" style="padding-left: 20px;padding-right: 20px;"> {{element.firmName}}
          </td>
        </ng-container>





        <tr mat-header-row *matHeaderRowDef="displayedColumns;sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>

      <mat-paginator [length]="10" [pageSize]="10" [pageSizeOptions]="[10, 50, 100]" showFirstLastButtons>
      </mat-paginator>
      <button style="margin: 10px;" class="btn btn-primary" type="button" data-toggle="modal" data-target="#myModal"
        *ngIf="value.length!==0" (click)="edit()">
        Send
      </button>
      <button style="margin: 10px;" class="btn btn-primary" type="button" *ngIf="value.length===0" (click)="noDrug()">
        Send
      </button>
    </div>
  </div>






</div>

<div class="modal" id="myModal" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">
    <form [formGroup]="inputGroup2" (ngSubmit)="send();">
      <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header">
          <h1 class="modal-title">Detail</h1>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>

        <!-- Modal body -->
        <div class="modal-body">
          <div class="example-container">





            <mat-form-field appearance="outline" style="padding-left: 10px;">
              <mat-label>HN</mat-label>
              <input matInput type="number" formControlName="hnS">
            </mat-form-field>

            <mat-form-field appearance="outline" style="padding-left: 10px;">
              <mat-label>Name</mat-label>
              <input matInput formControlName="nameS">
            </mat-form-field>

            <mat-form-field appearance="outline" style="padding-left: 10px;">
              <mat-label>Age</mat-label>
              <input matInput type="number" formControlName="ageS">
            </mat-form-field>

            <label style="padding-left: 10px;">Sex: </label>
            <mat-radio-group formControlName="sexS">
              <mat-radio-button style="padding-left: 10px;" value="M">Male</mat-radio-button>
              <mat-radio-button style="padding-left: 10px;" value="F">Female</mat-radio-button>
            </mat-radio-group>


            <table class="table  table-bordered table-lg">
              <thead>
                <tr>
                  <th>#</th>
                  <th>drugCode</th>
                  <th>drugName</th>
                  <th>QTY</th>
                  <th>Unit</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let i of value; let x = index">
                  <td scope="row" style="padding-top: 15px">{{ x + 1 }}</td>
                  <td style="padding-top: 15px">
                    {{ i.code }}
                  </td>
                  <td style="padding-top: 15px">
                    {{ i.Name }}
                  </td>
                  <td style="padding-top: 15px">
                    {{ i.Qty }}
                  </td>
                  <td style="padding-top: 15px">
                    {{ i.unit }}
                  </td>

                </tr>
              </tbody>
            </table>

          </div>
        </div>

        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">Submit</button>
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>

      </div>
    </form>
  </div>

</div>
