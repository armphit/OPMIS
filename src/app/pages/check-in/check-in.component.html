<div class="container-fluid" style="overflow: auto">
  <div class="row">
    <div class="col-lg-8">
      <form [formGroup]="campaignOne">
        <mat-form-field>
          <mat-label>Choose a date</mat-label>
          <input
            matInput
            [matDatepicker]="picker"
            formControlName="picker"
            (dateChange)="
              startChange($event); inputT.value = ''; inputD.value = ''
            "
          />
          <mat-datepicker-toggle
            matSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </form>
    </div>
    <div class="col-lg-2">
      <mat-form-field>
        <mat-label>Select Device</mat-label>
        <mat-select (selectionChange)="doSomething($event)" #inputD>
          <mat-option value="">ALL</mat-option>
          <mat-option value="MHR-OPD1">MHR-OPD1</mat-option>
          <mat-option value="MHR-IPD6">MHR-IPD6</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="col-lg-2">
      <mat-form-field class="example-full-width" style="float: right">
        <input matInput (keyup)="applyFilter($event)" #inputT />
        <mat-placeholder>ค้นหา</mat-placeholder>
        <mat-icon matSuffix style="font-size: 1.2em">search</mat-icon>
      </mat-form-field>
    </div>
  </div>

  <div class="responsive-table">
    <table
      mat-table
      matTableExporter
      [dataSource]="dataSource"
      matSort
      #MatSort="matSort"
      #exporter="matTableExporter"
      class="mat-elevation-z8"
      matSortActive="datetime"
      matSortDirection="desc"
    >
      <ng-container matColumnDef="USERID">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>USERID</th>
        <td
          mat-cell
          *matCellDef="let element"
          style="padding-left: 20px; padding-right: 20px"
        >
          {{ element.USERID }}
        </td>
      </ng-container>

      <ng-container matColumnDef="Name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
        <td
          mat-cell
          *matCellDef="let element"
          style="padding-left: 20px; padding-right: 20px"
        >
          {{ element.Name }}
        </td>
      </ng-container>

      <ng-container matColumnDef="DEPTNAME">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>DEPTNAME</th>
        <td
          mat-cell
          *matCellDef="let element"
          style="padding-left: 20px; padding-right: 20px"
        >
          {{ element.DEPTNAME }}
        </td>
      </ng-container>

      <ng-container matColumnDef="deviceName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>deviceName</th>
        <td
          mat-cell
          *matCellDef="let element"
          style="padding-left: 20px; padding-right: 20px"
        >
          {{ element.deviceName }}
        </td>
      </ng-container>

      <ng-container matColumnDef="datetime">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Datetimestamp</th>
        <td
          mat-cell
          *matCellDef="let element"
          style="padding-left: 20px; padding-right: 20px"
        >
          {{ element.datetime }}
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <div style="float: right" *ngIf="dataDrug">
      <button
        mat-raised-button
        color="primary"
        (click)="
          exporter.exportTable('xlsx', {
            fileName: nameExcel,
            sheet: 'sheet_name',
            Props: { Author: 'Talha' }
          })
        "
      >
        Excel
      </button>
    </div>
    <mat-paginator
      #MatPaginator="matPaginator"
      style="display: flex; justify-content: center"
      [length]="10"
      [pageSize]="10"
      [pageSizeOptions]="[10, 50, 100]"
      showFirstLastButtons
    >
    </mat-paginator>
  </div>
</div>
