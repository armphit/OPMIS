<div style="overflow: auto;margin: 10px;">

  <mat-form-field class="example-full-width" style="float: right;">
    <input matInput (keyup)="applyFilter($event)" #input>
    <mat-placeholder>ค้นหา</mat-placeholder>
    <mat-icon matSuffix style="font-size: 1.2em">search</mat-icon>
  </mat-form-field>

  <!-- <mat-form-field appearance="fill">
    <mat-label>Select an option</mat-label>
    <mat-select [(value)]="selected">
      <mat-option *ngFor="let led of led" [value]="led">
        {{led}}
      </mat-option>
    </mat-select>
  </mat-form-field> -->

  <!-- <button mat-raised-button
    (click)="exporter.exportTable('xlsx', {fileName:'test', sheet: 'sheet_name', Props: {Author: 'Talha'}})">Excel</button>
  <button mat-raised-button (click)="exporter.exportTable('csv')">Csv</button>
  <button mat-raised-button (click)="exporter.exportTable('json')">Json</button>
  <button mat-raised-button (click)="exporter.exportTable('txt')">Txt</button> -->


  <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8" matTableExporter
    #exporter="matTableExporter">

    <!-- Position Column -->
    <ng-container matColumnDef="LED">
      <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px;"> LED </th>
      <td mat-cell *matCellDef="let element" style="padding-left: 20px;padding-right: 20px;"> {{element.LED}} </td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="Row">
      <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px;"> Row </th>
      <td mat-cell *matCellDef="let element" style="padding-left: 20px;padding-right: 20px;"> {{element.Row}} </td>
    </ng-container>

    <!-- Weight Column -->
    <ng-container matColumnDef="Column">
      <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px;"> Column </th>
      <td mat-cell *matCellDef="let element" style="padding-left: 20px;padding-right: 20px;"> {{element.Column}} </td>
    </ng-container>

    <ng-container matColumnDef="Code">
      <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px;"> Code </th>
      <td mat-cell *matCellDef="let element" style="padding-left: 20px;padding-right: 20px;"> {{element.Code}} </td>
    </ng-container>

    <ng-container matColumnDef="Name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px;"> Name </th>
      <td mat-cell *matCellDef="let element" style="padding-left: 20px;padding-right: 20px;"> {{element.Name}} </td>
    </ng-container>

    <ng-container matColumnDef="Spec">
      <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px;"> Spec </th>
      <td mat-cell *matCellDef="let element" style="padding-left: 20px;padding-right: 20px;"> {{element.Spec}} </td>
    </ng-container>

    <ng-container matColumnDef="Quantity">
      <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px;"> Quantity </th>
      <td mat-cell *matCellDef="let element" style="padding-left: 20px;padding-right: 20px;"> {{element.Quantity}}
      </td>
    </ng-container>

    <ng-container matColumnDef="Minimum">
      <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px;"> Minimum </th>
      <td mat-cell *matCellDef="let element" style="padding-left: 20px;padding-right: 20px;"> {{element.Minimum}}
      </td>
    </ng-container>

    <ng-container matColumnDef="Maximum">
      <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px;"> Maximum </th>
      <td mat-cell *matCellDef="let element" style="padding-left: 20px;padding-right: 20px;"> {{element.Maximum}}
      </td>
    </ng-container>

    <ng-container matColumnDef="SupplierName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px;"> SupplierName </th>
      <td mat-cell *matCellDef="let element" style="padding-left: 20px;padding-right: 20px;"> {{element.SupplierName}}
      </td>
    </ng-container>

    <ng-container matColumnDef="ProductExpirationDate">
      <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px;"> ProductExpirationDate </th>
      <td mat-cell *matCellDef="let element" style="padding-left: 20px;padding-right: 20px;">
        {{substringDate(element.ProductExpirationDate)}} </td>
    </ng-container>

    <ng-container matColumnDef="Lotnumber">
      <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px;"> Lotnumber </th>
      <td mat-cell *matCellDef="let element" style="padding-left: 20px;padding-right: 20px;"> {{element.Lotnumber}}
      </td>
    </ng-container>

    <ng-container matColumnDef="Action">
      <th mat-header-cell *matHeaderCellDef style="text-align: center;"> Action </th>
      <td mat-cell *matCellDef="let payment"> <button type="button" class="btn btn-warning" data-toggle="modal"
          data-target="#myModal" data-backdrop="static" data-keyboard="false" (click)="clickUpdate(payment)"
          style="margin-left: 20px;">Update</button>
      </td>
    </ng-container>



    <tr mat-header-row *matHeaderRowDef="displayedColumns;sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

  <mat-paginator [length]="10" [pageSize]="10" [pageSizeOptions]="[10, 50, 100]" showFirstLastButtons>
  </mat-paginator>

</div>
<!-- <div class="text-center">
    <pagination-controls id="page" *ngIf="dataDrug != null && dataDrug.length > 10" previousLabel="ย้อนกลับ"
      nextLabel="ถัดไป" (pageChange)="page = $event"></pagination-controls>
  </div> -->


<div class="modal" id="myModal">
  <div class="modal-dialog">
    <form [formGroup]="inputGroup" (ngSubmit)="inputGroup.valid ? updateData() : ''" class="needs-validation">
      <div class="modal-content">


        <div class="modal-header">
          <h4 class="modal-title">Edit Data</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>


        <div class="modal-body">
          <div class="form-group">
            <label for="text">LED:</label>
            <input type="text" class="form-control" formControlName="LED" required>

          </div>
          <div class="form-group">
            <label for="text">Row:</label>
            <input type="text" class="form-control" formControlName="Row" required>
          </div>
          <div class="form-group">
            <label for="text">Column:</label>
            <input type="text" class="form-control" formControlName="Column" required>
          </div>
          <div class="form-group">
            <label for="text">Code:</label>
            <input type="text" class="form-control" formControlName="Code" required>
          </div>
          <div class="form-group">
            <label for="text">Name:</label>
            <input type="text" class="form-control" formControlName="Name" required>
          </div>
          <div class="form-group">
            <label for="text">Spec:</label>
            <input type="text" class="form-control" formControlName="Spec" required>
          </div>

          <div class="form-group">
            <label for="text">Minimum:</label>
            <input type="text" class="form-control" formControlName="Minimum" required>
          </div>
          <div class="form-group">
            <label for="text">Maximum:</label>
            <input type="text" class="form-control" formControlName="Maximum" required>
          </div>
          <div class="form-group">
            <label for="text">SupplierName:</label>
            <input type="text" class="form-control" formControlName="SupplierName" required>
          </div>
          <div class="form-group">
            <label for="text">Quantity:</label>
            <input type="number" min="0" oninput="validity.valid||(value='');" class="form-control"
              formControlName="quantity" required>
          </div>
          <mat-form-field>
            <input matInput [matDatepicker]="picker" formControlName="ProductExpirationDate" required />
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker [startAt]="show_date" #picker></mat-datepicker>
          </mat-form-field>
          <div class="form-group">
            <label for="text">Lotnumber:</label>
            <input type="number" min="0" oninput="validity.valid||(value='');" class="form-control"
              formControlName="Lotnumber" required>
          </div>



        </div>


        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">Submit</button>
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>

      </div>
    </form>
  </div>
</div>
